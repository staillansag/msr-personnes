apiVersion: v1
kind: ConfigMap
metadata:
  name: dce-msr-personnes
data:
  application.properties: |
    artConnection.dcePersonnes.dcePersonnes.jdbc.dcePersonnes_jdbc.connectionEnabled=false
    artConnection.dcePersonnes.dcePersonnes.jdbc.dcePersonnes_jdbc_oracle.connectionEnabled=true
    artConnection.dcePersonnes.dcePersonnes.jdbc.dcePersonnes_jdbc_oracle.connectionSettings.datasourceClass=com.wm.dd.jdbcx.oracle.OracleDataSource
    artConnection.dcePersonnes.dcePersonnes.jdbc.dcePersonnes_jdbc_oracle.connectionSettings.portNumber=1521
    artConnection.dcePersonnes.dcePersonnes.jdbc.dcePersonnes_jdbc_oracle.connectionSettings.serverName=dbaas-std-noe.noe.edf.fr
    artConnection.dcePersonnes.dcePersonnes.jdbc.dcePersonnes_jdbc_oracle.connectionSettings.user=POC_CAAS_DATA_SAG
    artConnection.dcePersonnes.dcePersonnes.jdbc.dcePersonnes_jdbc_oracle.connectionSettings.password=$secret{DB_PASSWORD}
    artConnection.dcePersonnes.dcePersonnes.jdbc.dcePersonnes_jdbc_oracle.connectionSettings.maximumPoolSize=10
    artConnection.dcePersonnes.dcePersonnes.jdbc.dcePersonnes_jdbc_oracle.connectionSettings.transactionType=LOCAL_TRANSACTION
    artConnection.dcePersonnes.dcePersonnes.jdbc.dcePersonnes_jdbc_oracle.connectionSettings.otherProperties=serviceName\=EA7DEV1_S.noe.edf.fr

    jndi.DEFAULT_IS_JNDI_PROVIDER.providerURL=nsp://umserver-0:9000
    jndi.DEFAULT_IS_JNDI_PROVIDER.providerURLFailoverList=nsp://umserver-1:9000\r\nnsp://umserver-2:9000
    jms.DEFAULT_IS_JMS_CONNECTION.clientID=DEFAULT_IS_JMS_CLIENT
    jms.DEFAULT_IS_JMS_CONNECTION.enabled=true
    jms.DEFAULT_IS_JMS_CONNECTION.csqSize=0
    jms.DEFAULT_IS_JMS_CONNECTION.jndi_jndiAliasName=DEFAULT_IS_JNDI_PROVIDER
    jms.DEFAULT_IS_JMS_CONNECTION.jndi_automaticallyCreateUMAdminObjects=true
    jms.DEFAULT_IS_JMS_CONNECTION.producerMaxRetryAttempts=30
    jms.DEFAULT_IS_JMS_CONNECTION.producerRetryInterval=1000

    sftpserver.sftp.hostName=dcgyy66x.noe.edf.fr
    sftpserver.sftp.port=22
    sftpserver.sftp.hostKey=YzNOb0xXVmtNalUxTVRrZ1FVRkJRVU16VG5waFF6RnNXa1JKTVU1VVJUVkJRVUZCU1U4NVZYTnZUVzFhUkdaRVN6TlJaekJvTlVscE5WQTVjMnBTUm5kYVdXeENkVFZRYm5jNU5qUlNibEU9
    sftpserver.sftp.preferredKeyExchangeAlgorithm=curve25519-sha256@libssh.org,diffie-hellman-group18-sha512,diffie-hellman-group17-sha512,diffie-hellman-group16-sha512,diffie-hellman-group15-sha512,diffie-hellman-group14-sha256,diffie-hellman-group-exchange-sha256,rsa2048-sha256,ecdh-sha2-nistp521,ecdh-sha2-nistp384,ecdh-sha2-nistp256,rsa1024-sha1,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1,curve25519-sha256
    sftpserver.sftp.preferredMACS2C=hmac-sha2-512-96,hmac-sha2-512,hmac-sha2-256-etm@openssh.com,hmac-sha2-256,hmac-sha2-256-96,hmac-sha1-etm@openssh.com,hmac-sha1,hmac-sha1-96,hmac-md5,hmac-md5-etm@openssh.com,hmac-md5-96,hmac-sha2-512-etm@openssh.com
    sftpserver.sftp.preferredMACC2S=hmac-sha2-512-96,hmac-sha2-512,hmac-sha2-256-etm@openssh.com,hmac-sha2-256,hmac-sha2-256-96,hmac-sha1-etm@openssh.com,hmac-sha1,hmac-sha1-96,hmac-md5,hmac-md5-etm@openssh.com,hmac-md5-96,hmac-sha2-512-etm@openssh.com
    sftpserver.sftp.preferredCiphersS2C=aes128-gcm@openssh.com,chacha20-poly1305@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr,arcfour256,aes256-cbc,3des-cbc,3des-ctr,aes192-cbc,aes128-cbc,blowfish-cbc,arcfour128,arcfour,aes256-gcm@openssh.com
    sftpserver.sftp.preferredCiphersC2S=aes128-gcm@openssh.com,chacha20-poly1305@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr,arcfour256,aes256-cbc,3des-cbc,3des-ctr,aes192-cbc,aes128-cbc,blowfish-cbc,arcfour128,arcfour,aes256-gcm@openssh.com
    sftpuser.sftp_user.sftpServerAlias=sftp
    sftpuser.sftp_user.userName=pocsag
    sftpuser.sftp_user.password=$secret{SFTP_USER_PASSWORD}
    globalvariable.SFTP_FOLDER.value=/poc/proftpd/sftp/pocsag

    globalvariable.TEMP_DIR.value=/tmp/work

    cloudstreamsconnection.dcePersonnes.dcePersonnes..aws\:dcePersonnes_aws_s3.connectionconfiguration.aws..accessKey=$secret{S3_ACCESS_KEY}
    cloudstreamsconnection.dcePersonnes.dcePersonnes..aws\:dcePersonnes_aws_s3.connectionconfiguration.aws..secretKey=$secret{S3_SECRET_KEY}
    cloudstreamsconnection.dcePersonnes.dcePersonnes..aws\:dcePersonnes_aws_s3.connectionconfiguration.aws..region=
    cloudstreamsconnection.dcePersonnes.dcePersonnes..aws\:dcePersonnes_aws_s3.connectionconfiguration.cn..providerUrl=https://s3-interne-dsit.edf.fr

    globalvariable.S3_BUCKET.value=bkt-ea006-dev
    globalvariable.S3_PERSONNES_FOLDER.value=POC_CAAS/POCSAG

    jdbc.wmdb.dbURL=jdbc:wm:oracle://dbaas-std-noe.noe.edf.fr:1521;serviceName=EA7DEV1_S.noe.edf.fr
    jdbc.wmdb.userid=POC_CAAS_WEBM1
    jdbc.wmdb.password=$secret{WM_DB_PASSWORD}
    jdbc.wmdb.maxConns=50
    jdbc.wmdb.driverAlias=DataDirect Connect JDBC Oracle Driver
    jdbcfunc.ISCoreAudit.connPoolAlias=wmdb
    jdbcfunc.ISInternal.connPoolAlias=wmdb
    jdbcfunc.ProcessAudit.connPoolAlias=wmdb
    jdbcfunc.ISDashboardStats.connPoolAlias=none

    globalvariable.SERVER.value=$env{SERVER}

    settings.watt.net.default.accept=application/json
    settings.watt.server.ns.lockingMode=none
    settings.watt.net.localhost=http://dce-msr-personnes
    settings.watt.server.saveConfigFiles=false 
    settings.watt.server.audit.logFilesToKeep=1
    settings.watt.server.serverlogFilesToKeep=1
    settings.watt.server.stats.logFilesToKeep=1
    settings.watt.server.pipeline.processor=false
    statisticsdatacollector.monitorConfig.enabled=false

    user.Administrator.password=$secret{ADMIN_PASSWORD}

  applicationFile.properties:  |

  dcePersonnes_aws_emr.cnf: |

    <?xml version="1.0" encoding="UTF-8"?>
 
    <Values version="2.0">
      <value name="node_type">HDFSConnectionData</value>
      <value name="node_subtype">unknown</value>
      <value name="node_nsName">dcePersonnes.aws:dcePersonnes_aws_emr</value>
      <value name="node_pkg">dcePersonnes</value>
      <value name="is_public">false</value>
      <record name="HDFSConnectionData" javaclass="com.wm.util.Values">
        <value name="description">EMR</value>
        <value name="namenodeUri">hdfs://ip-172-16-2-83.eu-west-1.compute.internal:8020</value>
        <number name="replication" type="Short">1</number>
        <number name="blockSize" type="Long">1</number>
        <number name="bufferSize" type="Integer">4</number>
        <value name="connectionstate">enabled</value>
        <value name="authType">NO_AUTH</value>
        <value name="user">hdfs</value>
        <value name="group">hdfsadmingroup</value>
        <value name="coreSiteFilePath"></value>
        <value name="hdfsSiteFilePath"></value>
      </record>
    </Values>